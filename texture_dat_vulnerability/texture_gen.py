byt = open("xor_key.bin", "rb").read()
final = "\x00\x00\x00\x00\x6A\x00\x6A\x00\x68".encode()
final = [e for e in final]
final.append(0x26)
final.append(0xFC)
final.append(0x19)
final.append(0x00)
final.append(0x6A)
final.append(0x00)
final = [e for e in final]
final.append(0xB8)
final.append(0xC8)
final.append(0x59)
final.append(0x51)
final.append(0x00)
final.append(0xFF)
final.append(0xE0)

pwn_str = "Game has been pwnd\x00".encode()
for e in pwn_str:
    final.append(e)

while len(final) != 0x220:
    final.append(0x61)

final.append(0x14)
final.append(0xFC)
final.append(0x19)
final.append(0x00)

final = bytearray(bytes(final))
for index,_ in enumerate(final[4:]):
    final[4+index] ^= byt[index%0x190]


with open("texture.dat", "wb") as f:
    f.write(final)
